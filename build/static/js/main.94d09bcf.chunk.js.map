{"version":3,"sources":["components/Phonebook.js","services/persons.js","App.js","index.js"],"names":["Button","handleClick","text","onClick","Persons","persons","filters","deletePerson","filteredPersons","filter","person","name","toLowerCase","includes","map","number","id","Notification","message","notificationStyle","color","messageColor","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","Filter","newFilter","handleFilterChange","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","exp","getAll","axios","get","then","response","data","create","newObject","post","update","put","clean","delete","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","addMessage","setAddMessage","setMessageColor","useEffect","personService","initialNotes","catch","error","console","log","event","target","preventDefault","existingNames","length","window","confirm","setTimeout","concat","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.94d09bcf.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Button = ({handleClick, text}) => (\r\n    <button onClick={handleClick}>\r\n        {text}\r\n    </button>\r\n)\r\n\r\nconst Persons = ({persons, filters, deletePerson}) => {\r\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filters.toLowerCase()))\r\n    return (\r\n        <div>\r\n        {filteredPersons.map(person => \r\n            (<div key={person.id}>{person.name} {person.number} <Button \r\n            handleClick={deletePerson(person)} text=\"delete\" />\r\n            </div>))}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Notification = ({message, messageColor}) => {\r\n    const notificationStyle = {\r\n        color: messageColor,\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10,\r\n    }\r\n\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style={notificationStyle}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => (\r\n    <div>\r\n        filter shown with <input value={newFilter} onChange={handleFilterChange}/>\r\n    </div>\r\n)\r\n\r\nconst PersonForm =(props) => (\r\n    <div>\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n)\r\n\r\nexport {PersonForm, Filter, Persons, Notification}","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst clean = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n\r\nconst exp = {getAll, create, update, clean}\r\nexport default exp","import React, { useState, useEffect } from 'react'\nimport {PersonForm, Filter, Persons, Notification} from './components/Phonebook'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState(\"\")\n  const [ newFilter, setNewFilter ] = useState(\"\")\n  const [ addMessage, setAddMessage ] = useState(null)\n  const [ messageColor, setMessageColor ] = useState('red')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => {\n        setPersons(initialNotes)\n      })\n      .catch(error => console.log(\"initialization failed\"))\n  }, [])\n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    const existingNames = (persons.filter(person => \n      (person.name.toLowerCase() === newName.toLowerCase())))\n    if (existingNames.length !== 0) {\n        if (window.confirm(`${newName} is already added to phonebook,\n        replace the old number with a new one?`)) {\n          personService\n          .update(existingNames[0].id, {...existingNames[0], number:newNumber})\n          .then(response => {\n            setPersons(persons.map(person => person.id !== response.id ? person : response))\n            setNewName(\"\")\n            setNewNumber(\"\")\n            setTimeout(() => {\n              setAddMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setMessageColor('red')\n            setAddMessage(`Information of ${newName} has been removed from server`)\n            setNewName(\"\")\n            setNewNumber(\"\")\n            setTimeout(() => {\n              setAddMessage(null)\n            }, 5000)\n          })\n        }\n    } \n    else {\n      personService\n        .create({name:newName, number:newNumber})\n        .then(response => {\n          setPersons(persons.concat(response))\n          setMessageColor('green')\n          setAddMessage(`Added ${newName}`)\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setTimeout(() => {\n            setAddMessage(null)\n          }, 3000)\n        })\n        .catch(error => console.log(\"adding person failed\"))\n    }\n  }\n  const deletePerson = (person) => () => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n      .clean(person.id)\n      .then(response => {\n        setMessageColor('green')\n        setAddMessage(`Deleted ${person.name}`)\n        setPersons(persons.filter(p => p.id !== person.id))\n        setTimeout(() => {\n          setAddMessage(null)\n        }, 3000)\n        \n      })\n      .catch(error => console.log(\"deleting person failed\"))\n    }  \n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={addMessage} messageColor={messageColor} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n      newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filters={newFilter} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}